# 简介

## 什么是服务熔断?什么是服务降级?
触发原因不一样，服务熔断由链路上某个服务引起的，服务降级是从整体的负载考虑管理目标层次不一样，服务熔断是一个框架层次的处理，服务降级是业务层次的处理
实现方式不一样，服务熔断一般是自我熔断恢复，服务降级相当于人工控制
触发原因不同 服务熔断一般是某个服务（下游服务）故障引起，而服务降级一般是从整体负荷考虑；
一句话：服务熔断是应对系统服务雪崩的一种保险措施，给出的一种特殊降级措施。而服务降级则是更加宽泛的概念，主要是对系统整体资源的合理分配以应对压力。
服务熔断是服务降级的一种特殊情况，他是防止服务雪崩而采取的措施。系统发生异常或者延迟或者流量太大，都会触发该服务的服务熔断措施，链路熔断，返回兜底方法。这是对局部的一种保险措施。
服务降级是对系统整体资源的合理分配。区分核心服务和非核心服务。对某个服务的访问延迟时间、异常等情况做出预估并给出兜底方法。这是一种全局性的考量，对系统整体负荷进行管理。
限流：限制并发的请求访问量，超过阈值则拒绝；
降级：服务分优先级，牺牲非核心服务（不可用），保证核心服务稳定；从整体负荷考虑；
熔断：依赖的下游服务故障触发熔断，避免引发本系统崩溃；系统自动执行和恢复

熔断和降级是两种常用的微服务容错处理机制。熔断是在微服务架构中的一种重要容错机制，用于解决因微服务调用链上一个服务故障导致整个服务链不可用的问题。而降级则是在微服务中使用的一种容错处理机制，当服务器不可用或响应速度较慢时，可以通过降低服务质量来保证服务可用。

简单来说，熔断是用于防止雪崩效应的，而降级则是在服务不可用时，保证客户端的服务请求能够正常返回一些降级后的服务数据。因此，熔断是在服务请求端执行的，而降级则是在服务提供端执行的。



## CAP
CAP定理（Consistency, Availability, and Partition Tolerance）是由Eric Brewer在2000年提出的，是分布式系统的一个重要理论。CAP定理描述了分布式系统中，最多只能同时保证两项：一致性（Consistency）、可用性（Availability）和分区容错性（Partition Tolerance）。

一致性（Consistency）：所有节点在同一时刻的数据应该是一致的，这就要求在写入数据之后，不能立即读取数据，需要等待数据同步到所有节点。

可用性（Availability）：在分布式系统中，只要任意一个节点没有出现故障，就可以提供服务。

分区容错性（Partition Tolerance）：系统在遇到网络分区的情况下，仍然可以提供服务。

根据CAP定理，分布式系统不可能同时保证这三项，所以分布式系统的设计需要在一致性和可用性之间进行平衡，以及在分区容错性与一致性、可用性之间进行平衡。
CAP原则又称CAP定理，指的是在一个分布式系统中，一致性（Consistency）、可用性（Availability）、分区容错性（Partition tolerance）。CAP 原则指的是，这三个要素最多只能同时实现两点，不可能三者兼顾。
- Zookeeper: CP(C:一致性，P:分区容错性)
- Eureka: AP(A:高可用)
- Nacos: CP/AP 
